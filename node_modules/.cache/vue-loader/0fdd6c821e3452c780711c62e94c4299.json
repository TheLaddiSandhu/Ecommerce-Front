{"remainingRequest":"C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\src\\views\\pages\\ProductDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\src\\views\\pages\\ProductDetails.vue","mtime":1647412974885},{"path":"C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647363366624},{"path":"C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\node_modules\\babel-loader\\lib\\index.js","mtime":1647363374298},{"path":"C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647363366624},{"path":"C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\node_modules\\vue-loader\\lib\\index.js","mtime":1647363375813}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiAoKSA9PiAoewogICAgcmF0aW5nOiA0LjUsCiAgICBpdGVtOiA1LAogICAgcHJvZHVjdDoge30sCiAgfSksCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQKICAgIHRoaXMuZ2V0UHJvZHVjdERldGFpbCh0aGlzLmlkKQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0UHJvZHVjdERldGFpbChpZCkgewogICAgICB0aGlzLmF4aW9zCiAgICAgICAgLmdldCgnaHR0cDovL2xvY2FsaG9zdDo1MDAwL0FwaS9Qcm9kdWN0LycraWQpCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSkKICAgICAgICAgIHRoaXMucHJvZHVjdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpCiAgICAgICAgfSkKICAgIH0sCiAgICBnZXREaXNjb3VudGVkVmFsdWUocHJpY2UsIGRpc2NvdW50KSB7CiAgICAgIHJldHVybiBwcmljZSAtIChwcmljZSAvIDEwMCkgKiBkaXNjb3VudAogICAgfSwKICAgIGdldFJldmlld3NDb3VudChwcm9kdWN0KSB7CiAgICAgIHJldHVybiBwcm9kdWN0LnJldmlld3MubGVuZ3RoCiAgICB9LAogICAgYWRkVG9DYXJ0KHByb2R1Y3RfSWQsIF9xdWFudGl0eSkgewogICAgICBjb25zdCBpdGVtID0gewogICAgICAgIHByb2R1Y3RJZDogcHJvZHVjdF9JZCwKICAgICAgICBxdWFudGl0eTogX3F1YW50aXR5LAogICAgICB9CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkVG9DYXJ0JywgaXRlbSkKICAgIH0sCiAgICBhZGRSZXZpZXcoaWQsIHJhdGluZywgcmV2aWV3KSB7CiAgICAgIHRoaXMuYXhpb3MKICAgICAgICAucG9zdCgnaHR0cDovL2xvY2FsaG9zdDo1MDAwL2FwaS9SZXZpZXcnLCB7CiAgICAgICAgICByYXRpbmc6IHJhdGluZywKICAgICAgICAgIGNvbW1lbnQ6IHJldmlldywKICAgICAgICAgIHVzZXJJZDogdGhpcy4kc3RvcmUuc3RhdGUuc2Vzc2lvbi51c2VySWQsCiAgICAgICAgICBwcm9kdWN0SWQ6IGlkLAogICAgICAgIH0pCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpCiAgICAgICAgICB0aGlzLmdldFByb2R1Y3REZXRhaWwoaWQpCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpCiAgICAgICAgfSkKICAgICAgdGhpcy5jbGVhckZpZWxkcygpCiAgICB9LAogICAgY2xlYXJGaWVsZHMoKSB7CiAgICAgIHRoaXMubmV3UmF0aW5nID0gMAogICAgICB0aGlzLnJldmlldyA9ICcnCiAgICB9LAogICAgaGF2ZVB1cmNoYXNlZFByb2R1Y3QoaWQpIHsKICAgICAgY29uc3QgY3VyclVzZXJJZCA9IHRoaXMuJHN0b3JlLnN0YXRlLnNlc3Npb24udXNlcklkCiAgICAgIGxldCBmbGFnID0gdHJ1ZQoKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUucHVyY2hhc2VzLmZvckVhY2goZWxlbWVudCA9PiB7CiAgICAgICAgaWYgKChlbGVtZW50LnVzZXJJZCA9IGN1cnJVc2VySWQpKSB7CiAgICAgICAgICBpZiAoZWxlbWVudC5pdGVtcy5maWx0ZXIoaXRlbSA9PiBpdGVtLnByb2R1Y3RJZCA9PSBpZCkubGVuZ3RoID4gMCkgewogICAgICAgICAgICBmbGFnID0gdHJ1ZQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkKICAgICAgcmV0dXJuIGZsYWcKICAgIH0sCiAgfSwKfQo="},{"version":3,"sources":["ProductDetails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ProductDetails.vue","sourceRoot":"src/views/pages","sourcesContent":["<template>\n  <div>\n    <v-container>\n      <div class=\"row\">\n        <div class=\"col-md-5 col-sm-5 col-xs-12\">\n          <v-carousel>\n            <v-carousel-item :src=\"require('../../assets/img/shop/' + product.image)\"></v-carousel-item>\n          </v-carousel>\n        </div>\n        <div class=\"col-md-7 col-sm-7 col-xs-12\">\n          <div class=\"pl-6\">\n            <p class=\"display-1 mb-0\">{{ product.name }}</p>\n            <v-card-actions class=\"pa-0\">\n              <p class=\"headline font-weight-light pt-3\">\n                ${{ getDiscountedValue(product.price, product.discount) }}\n                <del style=\"\" class=\"subtitle-1 font-weight-thin\">${{ product.price }}</del>\n              </p>\n              <v-spacer></v-spacer>\n              <v-rating\n                v-model=\"product.rating\"\n                class=\"\"\n                background-color=\"warning lighten-3\"\n                color=\"warning\"\n                dense\n                readonly\n              ></v-rating>\n              <span class=\"body-2 font-weight-thin\">{{ getReviewsCount(product) }} REVIEWS</span>\n            </v-card-actions>\n            <p class=\"subtitle-1 font-weight-thin\">\n              {{ product.description }}\n            </p>\n            <p class=\"title\">SIZE</p>\n            <v-radio-group v-model=\"row\" row>\n              <v-radio label=\"Mini\" value=\"XS\"></v-radio>\n              <v-radio label=\"Standard\" value=\"s\"></v-radio>\n              <v-radio label=\"Pro\" value=\"m\"></v-radio>\n              <v-radio label=\"Pro Max\" value=\"l\"></v-radio>\n            </v-radio-group>\n            <p class=\"title\">STORAGE</p>\n            <v-radio-group v-model=\"row\" row>\n              <v-radio label=\"64\" value=\"XS\"></v-radio>\n              <v-radio label=\"128\" value=\"s\"></v-radio>\n              <v-radio label=\"256\" value=\"m\"></v-radio>\n            </v-radio-group>\n            <p class=\"title\">ITEMS</p>\n\n            <v-text-field outlined style=\"width: 100px\" :value=\"1\" v-model=\"quantity\" dense></v-text-field>\n            <v-btn class=\"white--text\" outlined tile dense @click=\"addToCart(product.id, quantity)\"\n              ><v-icon>mdi-cart</v-icon> ADD TO CART</v-btn\n            >\n          </div>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-sm-12 col-xs-12 col-md-12\">\n          <v-tabs>\n            <v-tab>Description</v-tab>\n            <v-tab>Reviews</v-tab>\n            <v-tab-item>\n              <p class=\"pt-10 subtitle-1 font-weight-thin\">\n                {{ product.longDescription }}\n              </p>\n            </v-tab-item>\n            <v-tab-item>\n              <v-list three-line=\"true\" avatar=\"true\">\n                <v-list-item-group v-model=\"item\" color=\"primary\">\n                  <v-list-item v-for=\"(item, i) in product.reviews\" :key=\"i\" inactive=\"true\">\n                    <v-list-item-content>\n                      <v-list-item-title v-html=\"item.user.name\"></v-list-item-title\n                      ><v-rating\n                        v-model=\"item.rating\"\n                        class=\"\"\n                        background-color=\"warning lighten-3\"\n                        color=\"warning\"\n                        dense\n                        readonly\n                      ></v-rating>\n                      <v-list-item-subtitle v-html=\"item.comment\"></v-list-item-subtitle>\n                    </v-list-item-content>\n                  </v-list-item>\n\n                  <v-list-item v-if=\"havePurchasedProduct(id)\">\n                    <v-list-item-content>\n                      <v-text-field\n                        outlined\n                        style=\"width: 100px\"\n                        :value=\"1\"\n                        v-model=\"review\"\n                        placeholder=\"Post a review\"\n                        dense\n                      ></v-text-field>\n                      <v-rating\n                        v-model=\"newRating\"\n                        class=\"\"\n                        background-color=\"warning lighten-3\"\n                        color=\"warning\"\n                        value=\"0\"\n                        dense\n                      ></v-rating>\n                      <v-btn class=\"white--text\" outlined tile dense @click=\"addReview(id, newRating, review)\"\n                        ><v-icon>mdi-cart</v-icon>Post review</v-btn\n                      >\n                    </v-list-item-content>\n                  </v-list-item>\n                </v-list-item-group>\n              </v-list>\n            </v-tab-item>\n          </v-tabs>\n        </div>\n      </div>\n    </v-container>\n  </div>\n</template>\n<script>\nexport default {\n  data: () => ({\n    rating: 4.5,\n    item: 5,\n    product: {},\n  }),\n  created() {\n    this.id = this.$route.params.id\n    this.getProductDetail(this.id)\n  },\n  methods: {\n    getProductDetail(id) {\n      this.axios\n        .get('http://localhost:5000/Api/Product/'+id)\n        .then(response => {\n          console.log(response.data)\n          this.product = response.data;\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    },\n    getDiscountedValue(price, discount) {\n      return price - (price / 100) * discount\n    },\n    getReviewsCount(product) {\n      return product.reviews.length\n    },\n    addToCart(product_Id, _quantity) {\n      const item = {\n        productId: product_Id,\n        quantity: _quantity,\n      }\n      this.$store.commit('addToCart', item)\n    },\n    addReview(id, rating, review) {\n      this.axios\n        .post('http://localhost:5000/api/Review', {\n          rating: rating,\n          comment: review,\n          userId: this.$store.state.session.userId,\n          productId: id,\n        })\n        .then(response => {\n          console.log(response)\n          this.getProductDetail(id)\n        })\n        .catch(error => {\n          console.log(error)\n        })\n      this.clearFields()\n    },\n    clearFields() {\n      this.newRating = 0\n      this.review = ''\n    },\n    havePurchasedProduct(id) {\n      const currUserId = this.$store.state.session.userId\n      let flag = true\n\n      this.$store.state.purchases.forEach(element => {\n        if ((element.userId = currUserId)) {\n          if (element.items.filter(item => item.productId == id).length > 0) {\n            flag = true\n          }\n        }\n      })\n      return flag\n    },\n  },\n}\n</script>\n"]}]}