{"remainingRequest":"C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\src\\views\\pages\\profile\\MyPurchases.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\src\\views\\pages\\profile\\MyPurchases.vue","mtime":1647363307819},{"path":"C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\babel.config.js","mtime":1647363307621},{"path":"C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647363366624},{"path":"C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\node_modules\\babel-loader\\lib\\index.js","mtime":1647363374298},{"path":"C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647363366624},{"path":"C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\node_modules\\vue-loader\\lib\\index.js","mtime":1647363375813}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYmplY3QtY3VybHktbmV3bGluZQppbXBvcnQgeyBtZGlLZXlPdXRsaW5lLCBtZGlMb2NrT3Blbk91dGxpbmUsIG1kaUV5ZU9mZk91dGxpbmUsIG1kaUV5ZU91dGxpbmUgfSBmcm9tICdAbWRpL2pzJzsKaW1wb3J0IHsgcmVmIH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGknOwpleHBvcnQgZGVmYXVsdCB7CiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgcmV0dXJuIHsKICAgICAgaWNvbnM6IHsKICAgICAgICBtZGlLZXlPdXRsaW5lOiBtZGlLZXlPdXRsaW5lLAogICAgICAgIG1kaUxvY2tPcGVuT3V0bGluZTogbWRpTG9ja09wZW5PdXRsaW5lLAogICAgICAgIG1kaUV5ZU9mZk91dGxpbmU6IG1kaUV5ZU9mZk91dGxpbmUsCiAgICAgICAgbWRpRXllT3V0bGluZTogbWRpRXllT3V0bGluZQogICAgICB9CiAgICB9OwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHB1cmNoYXNlczogW10sCiAgICAgIHByb2R1Y3RzOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEFsbFB1cmNoYXNlczogZnVuY3Rpb24gZ2V0QWxsUHVyY2hhc2VzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5heGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3QvZWNvbW1lcmNlLXNlcnZpY2UvYXBpL29yZGVyLnBocD9hY3Rpb249ZmV0Y2hPcmRlcnNCeVVzZXJJZCZ1c2VySWQ9IiArIHRoaXMuJHN0b3JlLnN0YXRlLnNlc3Npb24udXNlcklkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICBfdGhpcy5wdXJjaGFzZXMgPSByZXNwb25zZS5kYXRhOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGdldEFsbFByb2R1Y3RzOiBmdW5jdGlvbiBnZXRBbGxQcm9kdWN0cygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdC9lY29tbWVyY2Utc2VydmljZS9hcGkvcHJvZHVjdC5waHA/YWN0aW9uPWZldGNoQWxsUHJvZHVjdHMiKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICBfdGhpczIucHJvZHVjdHMgPSByZXNwb25zZS5kYXRhOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFByb2R1Y3RCeUlkOiBmdW5jdGlvbiBnZXRQcm9kdWN0QnlJZChpZCkgewogICAgICByZXR1cm4gdGhpcy5wcm9kdWN0cy5maWx0ZXIoZnVuY3Rpb24gKHByb2R1Y3QpIHsKICAgICAgICByZXR1cm4gcHJvZHVjdC5pZCA9PSBpZDsKICAgICAgfSlbMF07CiAgICB9CiAgfSwKICBjb21wdXRlZDogey8vIHB1cmNoYXNlcygpIHsKICAgIC8vICAgY29uc29sZS5sb2codGhpcy4kc3RvcmUuc3RhdGUucHVyY2hhc2VzKQogICAgLy8gICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUucHVyY2hhc2VzLmZpbHRlcihpdGVtcyA9PiBpdGVtcy51c2VySWQgPT0gdGhpcy4kc3RvcmUuc3RhdGUuc2Vzc2lvbi51c2VySWQpCiAgICAvLyB9LAogICAgLy8gcHJvZHVjdHMoKSB7CiAgICAvLyAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5wcm9kdWN0cwogICAgLy8gfSwKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldEFsbFByb2R1Y3RzKCk7CiAgICB0aGlzLmdldEFsbFB1cmNoYXNlcygpOwogIH0KfTs="},{"version":3,"sources":["MyPurchases.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;AACA,SAAA,aAAA,EAAA,kBAAA,EAAA,gBAAA,EAAA,aAAA,QAAA,SAAA;AACA,SAAA,GAAA,QAAA,sBAAA;AAEA,eAAA;AACA,EAAA,KADA,mBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AACA,QAAA,aAAA,EAAA,aADA;AAEA,QAAA,kBAAA,EAAA,kBAFA;AAGA,QAAA,gBAAA,EAAA,gBAHA;AAIA,QAAA,aAAA,EAAA;AAJA;AADA,KAAA;AAQA,GAVA;AAWA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAAA,GAXA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,6BACA;AAAA;;AACA,WAAA,KAAA,CACA,GADA,CACA,wFAAA,KAAA,MAAA,CAAA,KAAA,CAAA,OAAA,CAAA,MADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,QAAA,CAAA,IAAA;AACA,OALA,EAMA,KANA,CAMA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,OARA;AASA,KAXA;AAYA,IAAA,cAZA,4BAYA;AAAA;;AACA,WAAA,KAAA,CACA,GADA,CACA,4EADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,QAAA,MAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA;AACA,OALA,EAMA,KANA,CAMA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,OARA;AASA,KAtBA;AAuBA,IAAA,cAvBA,0BAuBA,EAvBA,EAuBA;AACA,aAAA,KAAA,QAAA,CAAA,MAAA,CAAA,UAAA,OAAA;AAAA,eAAA,OAAA,CAAA,EAAA,IAAA,EAAA;AAAA,OAAA,EAAA,CAAA,CAAA;AACA;AAzBA,GAfA;AA0CA,EAAA,QAAA,EAAA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA,GA1CA;AAoDA,EAAA,OApDA,qBAoDA;AACA,SAAA,cAAA;AACA,SAAA,eAAA;AACA;AAvDA,CAAA","sourcesContent":["<template>\r\n  <v-card flat class=\"mt-5\">\r\n    <v-form>\r\n      <div>\r\n        <v-row v-if=\"purchases.length > 0\">\r\n          <v-col md=\"6\" lg=\"8\" cols=\"12\" :key=\"purchase.id\" v-for=\"purchase in purchases\">\r\n            <v-card class=\"overflow-hidden\" style=\"margin: 10px\">\r\n              <v-row class=\"ma-0 h-full\">\r\n                <v-col cols=\"12\" sm=\"8\" md=\"12\" lg=\"8\" order=\"2\" order-lg=\"1\">\r\n                  <v-card-title>Purchase # {{ purchase.id }}</v-card-title>\r\n                  <v-card-text :key=\"purchase.id + item.id\" v-for=\"(item, index) in purchase.products\">\r\n                    {{ index + 1 }}. Product: <b>{{ getProductById(item.productId).name }}</b\r\n                    >, Quantity: <b>{{ item.quantity }}</b>\r\n                  </v-card-text>\r\n                </v-col>\r\n                <v-col\r\n                  cols=\"12\"\r\n                  sm=\"4\"\r\n                  md=\"12\"\r\n                  lg=\"4\"\r\n                  order=\"1\"\r\n                  order-lg=\"2\"\r\n                  class=\"memberpricing-bg\"\r\n                  style=\"background-color: rgba(94, 86, 105, 0.04)\"\r\n                >\r\n                  <div class=\"membership-pricing\">\r\n                    <p class=\"mt-16 text--primary\">\r\n                      <sub class=\"text-2xl\">$</sub>\r\n                      <sup style=\"font-size: 3rem; top: 9px\" class=\"font-weight-semibold\">{{ purchase.subTotal + purchase.taxAmount + 10 }}</sup>\r\n                      <sub class=\"text-xl\">CAD</sub>\r\n                    </p>\r\n                  </div>\r\n                </v-col>\r\n              </v-row>\r\n            </v-card>\r\n          </v-col>\r\n        </v-row>\r\n      </div>\r\n      <p class=\"font-weight-light pa-1\" v-if=\"purchases.length == 0\">You have no purchases!</p>\r\n    </v-form>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\n// eslint-disable-next-line object-curly-newline\r\nimport { mdiKeyOutline, mdiLockOpenOutline, mdiEyeOffOutline, mdiEyeOutline } from '@mdi/js'\r\nimport { ref } from '@vue/composition-api'\r\n\r\nexport default {\r\n  setup() {\r\n    return {\r\n      icons: {\r\n        mdiKeyOutline,\r\n        mdiLockOpenOutline,\r\n        mdiEyeOffOutline,\r\n        mdiEyeOutline,\r\n      },\r\n    }\r\n  },\r\n  data: () => ({\r\n    purchases: [],\r\n    products: []\r\n  }),\r\n  methods: {\r\n    getAllPurchases() {\r\n      this.axios\r\n        .get(\"http://localhost/ecommerce-service/api/order.php?action=fetchOrdersByUserId&userId=\"+ this.$store.state.session.userId)\r\n        .then((response) => { \r\n          console.log(response);\r\n          this.purchases = response.data; \r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    getAllProducts() {\r\n      this.axios\r\n        .get(\"http://localhost/ecommerce-service/api/product.php?action=fetchAllProducts\")\r\n        .then((response) => { \r\n          console.log(response);\r\n          this.products = response.data; \r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    getProductById(id) {\r\n      return this.products.filter(product => product.id == id)[0]\r\n    },\r\n  },\r\n  computed: {\r\n    // purchases() {\r\n    //   console.log(this.$store.state.purchases)\r\n    //   return this.$store.state.purchases.filter(items => items.userId == this.$store.state.session.userId)\r\n    // },\r\n    // products() {\r\n    //   return this.$store.state.products\r\n    // },\r\n    \r\n  },\r\n  created(){\r\n    this.getAllProducts();\r\n    this.getAllPurchases();\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.two-factor-auth {\r\n  max-width: 25rem;\r\n}\r\n.security-character {\r\n  position: absolute;\r\n  bottom: -0.5rem;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/pages/profile"}]}