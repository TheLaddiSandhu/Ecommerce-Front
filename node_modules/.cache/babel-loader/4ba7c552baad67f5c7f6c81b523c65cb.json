{"remainingRequest":"C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\src\\views\\pages\\ProductDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\src\\views\\pages\\ProductDetails.vue","mtime":1647407025942},{"path":"C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\babel.config.js","mtime":1647363307621},{"path":"C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647363366624},{"path":"C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\node_modules\\babel-loader\\lib\\index.js","mtime":1647363374298},{"path":"C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647363366624},{"path":"C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\node_modules\\vue-loader\\lib\\index.js","mtime":1647363375813}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJhdGluZzogNC41LAogICAgICBpdGVtOiA1LAogICAgICBwcm9kdWN0OiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmlkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgdGhpcy5nZXRQcm9kdWN0RGV0YWlsKHRoaXMuaWQpOwogIH0sCiAgY29tcHV0ZWQ6IHsvLyBwcm9kdWN0KCkgewogICAgLy8gICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUucHJvZHVjdHNbdGhpcy5pZCAtMV0KICAgIC8vIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRQcm9kdWN0RGV0YWlsOiBmdW5jdGlvbiBnZXRQcm9kdWN0RGV0YWlsKGlkKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDo1MDAwL0FwaS9Qcm9kdWN0LycsICtpZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICBfdGhpcy5wcm9kdWN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgICAgdGhpcy5wcm9kdWN0ID0gdGhpcy4kc3RvcmUuc3RhdGUucHJvZHVjdHNbdGhpcy5pZCAtIDFdOwogICAgfSwKICAgIGdldERpc2NvdW50ZWRWYWx1ZTogZnVuY3Rpb24gZ2V0RGlzY291bnRlZFZhbHVlKHByaWNlLCBkaXNjb3VudCkgewogICAgICByZXR1cm4gcHJpY2UgLSBwcmljZSAvIDEwMCAqIGRpc2NvdW50OwogICAgfSwKICAgIGdldFJldmlld3NDb3VudDogZnVuY3Rpb24gZ2V0UmV2aWV3c0NvdW50KHByb2R1Y3QpIHsKICAgICAgcmV0dXJuIHByb2R1Y3QucmV2aWV3cy5sZW5ndGg7CiAgICB9LAogICAgYWRkVG9DYXJ0OiBmdW5jdGlvbiBhZGRUb0NhcnQocHJvZHVjdElkLCBxdWFudGl0eSkgewogICAgICB2YXIgaXRlbSA9IHsKICAgICAgICBwcm9kdWN0SWQ6IHByb2R1Y3RJZCwKICAgICAgICBxdWFudGl0eTogcXVhbnRpdHkKICAgICAgfTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdhZGRUb0NhcnQnLCBpdGVtKTsKICAgIH0sCiAgICBhZGRSZXZpZXc6IGZ1bmN0aW9uIGFkZFJldmlldyhpZCwgcmF0aW5nLCByZXZpZXcpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAvLyBsZXQgbmV3UmV2aWV3ID0gewogICAgICAvLyAgIGlkOiBpZCwKICAgICAgLy8gICByYXRpbmc6IHJhdGluZywKICAgICAgLy8gICByZXZpZXc6IHJldmlldywKICAgICAgLy8gICBwZXJzb25OYW1lOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2Vycy5maWx0ZXIoKHVzZXIpID0+IHVzZXIuaWQgPSB0aGlzLiRzdG9yZS5zdGF0ZS5zZXNzaW9uLnVzZXJJZClbMF0ubmFtZSwKICAgICAgLy8gICByZXZpZXdEZXNjcmlwdGlvbjogcmV2aWV3CiAgICAgIC8vIH07CiAgICAgIHRoaXMuYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdC9lY29tbWVyY2Utc2VydmljZS9hcGkvcmV2aWV3LnBocD9hY3Rpb249aW5zZXJ0UmV2aWV3JywgewogICAgICAgIHJhdGluZzogcmF0aW5nLAogICAgICAgIGNvbW1lbnQ6IHJldmlldywKICAgICAgICB1c2VySWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnNlc3Npb24udXNlcklkLAogICAgICAgIHByb2R1Y3RJZDogaWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CgogICAgICAgIF90aGlzMi5nZXRQcm9kdWN0RGV0YWlsKGlkKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsgLy8gdGhpcy5wcm9kdWN0LnJldmlld3MucHVzaChuZXdSZXZpZXcpOwogICAgICAvLyB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZFJldmlldycsIG5ld1Jldmlldyk7CgogICAgICB0aGlzLmNsZWFyRmllbGRzKCk7CiAgICB9LAogICAgY2xlYXJGaWVsZHM6IGZ1bmN0aW9uIGNsZWFyRmllbGRzKCkgewogICAgICB0aGlzLm5ld1JhdGluZyA9IDA7CiAgICAgIHRoaXMucmV2aWV3ID0gJyc7CiAgICB9LAogICAgaGF2ZVB1cmNoYXNlZFByb2R1Y3Q6IGZ1bmN0aW9uIGhhdmVQdXJjaGFzZWRQcm9kdWN0KGlkKSB7CiAgICAgIHZhciBjdXJyVXNlcklkID0gdGhpcy4kc3RvcmUuc3RhdGUuc2Vzc2lvbi51c2VySWQ7CiAgICAgIHZhciBmbGFnID0gdHJ1ZTsKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUucHVyY2hhc2VzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICBpZiAoZWxlbWVudC51c2VySWQgPSBjdXJyVXNlcklkKSB7CiAgICAgICAgICBpZiAoZWxlbWVudC5pdGVtcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgcmV0dXJuIGl0ZW0ucHJvZHVjdElkID09IGlkOwogICAgICAgICAgfSkubGVuZ3RoID4gMCkgewogICAgICAgICAgICBmbGFnID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gZmxhZzsKICAgIH0KICB9Cn07"},{"version":3,"sources":["ProductDetails.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <v-container>\n      <div class=\"row\">\n        <div class=\"col-md-5 col-sm-5 col-xs-12\">\n          <v-carousel>\n            <v-carousel-item :src=\"require('../../assets/img/shop/' + product.image)\"></v-carousel-item>\n          </v-carousel>\n        </div>\n        <div class=\"col-md-7 col-sm-7 col-xs-12\">\n          <div class=\"pl-6\">\n            <p class=\"display-1 mb-0\">{{ product.name }}</p>\n            <v-card-actions class=\"pa-0\">\n              <p class=\"headline font-weight-light pt-3\">\n                ${{ getDiscountedValue(product.price, product.discount) }}\n                <del style=\"\" class=\"subtitle-1 font-weight-thin\">${{ product.price }}</del>\n              </p>\n              <v-spacer></v-spacer>\n              <v-rating\n                v-model=\"product.rating\"\n                class=\"\"\n                background-color=\"warning lighten-3\"\n                color=\"warning\"\n                dense\n                readonly\n              ></v-rating>\n              <span class=\"body-2 font-weight-thin\">{{ getReviewsCount(product) }} REVIEWS</span>\n            </v-card-actions>\n            <p class=\"subtitle-1 font-weight-thin\">\n              {{ product.description }}\n            </p>\n            <p class=\"title\">SIZE</p>\n            <v-radio-group v-model=\"row\" row>\n              <v-radio label=\"Mini\" value=\"XS\"></v-radio>\n              <v-radio label=\"Standard\" value=\"s\"></v-radio>\n              <v-radio label=\"Pro\" value=\"m\"></v-radio>\n              <v-radio label=\"Pro Max\" value=\"l\"></v-radio>\n            </v-radio-group>\n            <p class=\"title\">STORAGE</p>\n            <v-radio-group v-model=\"row\" row>\n              <v-radio label=\"64\" value=\"XS\"></v-radio>\n              <v-radio label=\"128\" value=\"s\"></v-radio>\n              <v-radio label=\"256\" value=\"m\"></v-radio>\n            </v-radio-group>\n            <p class=\"title\">ITEMS</p>\n\n            <v-text-field outlined style=\"width: 100px\" :value=\"1\" v-model=\"quantity\" dense></v-text-field>\n            <v-btn class=\"white--text\" outlined tile dense @click=\"addToCart(product.id, quantity)\"\n              ><v-icon>mdi-cart</v-icon> ADD TO CART</v-btn\n            >\n          </div>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-sm-12 col-xs-12 col-md-12\">\n          <v-tabs>\n            <v-tab>Description</v-tab>\n            <v-tab>Reviews</v-tab>\n            <v-tab-item>\n              <p class=\"pt-10 subtitle-1 font-weight-thin\">\n                {{ product.longDescription }}\n              </p>\n            </v-tab-item>\n            <v-tab-item>\n              <v-list three-line=\"true\" avatar=\"true\">\n                <v-list-item-group v-model=\"item\" color=\"primary\">\n                  <v-list-item v-for=\"(item, i) in product.reviews\" :key=\"i\" inactive=\"true\">\n                    <v-list-item-content>\n                      <v-list-item-title v-html=\"item.user.name\"></v-list-item-title\n                      ><v-rating\n                        v-model=\"item.rating\"\n                        class=\"\"\n                        background-color=\"warning lighten-3\"\n                        color=\"warning\"\n                        dense\n                        readonly\n                      ></v-rating>\n                      <v-list-item-subtitle v-html=\"item.comment\"></v-list-item-subtitle>\n                    </v-list-item-content>\n                  </v-list-item>\n\n                  <v-list-item v-if=\"havePurchasedProduct(id)\">\n                    <v-list-item-content>\n                      <v-text-field\n                        outlined\n                        style=\"width: 100px\"\n                        :value=\"1\"\n                        v-model=\"review\"\n                        placeholder=\"Post a review\"\n                        dense\n                      ></v-text-field>\n                      <v-rating\n                        v-model=\"newRating\"\n                        class=\"\"\n                        background-color=\"warning lighten-3\"\n                        color=\"warning\"\n                        value=\"0\"\n                        dense\n                      ></v-rating>\n                      <v-btn class=\"white--text\" outlined tile dense @click=\"addReview(id, newRating, review)\"\n                        ><v-icon>mdi-cart</v-icon>Post review</v-btn\n                      >\n                    </v-list-item-content>\n                  </v-list-item>\n                </v-list-item-group>\n              </v-list>\n            </v-tab-item>\n          </v-tabs>\n        </div>\n      </div>\n    </v-container>\n  </div>\n</template>\n<script>\nexport default {\n  data: () => ({\n    rating: 4.5,\n    item: 5,\n    product: [],\n  }),\n  created() {\n    this.id = this.$route.params.id\n    this.getProductDetail(this.id)\n  },\n  computed: {\n    // product() {\n    //   return this.$store.state.products[this.id -1]\n    // },\n  },\n  methods: {\n    getProductDetail(id) {\n      this.axios\n        .get('http://localhost:5000/Api/Product/', +id)\n        .then(response => {\n          console.log(response.data)\n          this.product = response.data\n        })\n        .catch(error => {\n          console.log(error)\n        })\n      this.product = this.$store.state.products[this.id - 1]\n    },\n    getDiscountedValue(price, discount) {\n      return price - (price / 100) * discount\n    },\n    getReviewsCount(product) {\n      return product.reviews.length\n    },\n    addToCart(productId, quantity) {\n      var item = {\n        productId: productId,\n        quantity: quantity,\n      }\n      this.$store.commit('addToCart', item)\n    },\n    addReview(id, rating, review) {\n      // let newReview = {\n      //   id: id,\n      //   rating: rating,\n      //   review: review,\n      //   personName: this.$store.state.users.filter((user) => user.id = this.$store.state.session.userId)[0].name,\n      //   reviewDescription: review\n      // };\n\n      this.axios\n        .post('http://localhost/ecommerce-service/api/review.php?action=insertReview', {\n          rating: rating,\n          comment: review,\n          userId: this.$store.state.session.userId,\n          productId: id,\n        })\n        .then(response => {\n          console.log(response)\n          this.getProductDetail(id)\n        })\n        .catch(error => {\n          console.log(error)\n        })\n      // this.product.reviews.push(newReview);\n      // this.$store.commit('addReview', newReview);\n      this.clearFields()\n    },\n    clearFields() {\n      this.newRating = 0\n      this.review = ''\n    },\n    havePurchasedProduct(id) {\n      let currUserId = this.$store.state.session.userId\n      var flag = true\n\n      this.$store.state.purchases.forEach(element => {\n        if ((element.userId = currUserId)) {\n          if (element.items.filter(item => item.productId == id).length > 0) {\n            flag = true\n          }\n        }\n      })\n      return flag\n    },\n  },\n}\n</script>\n"],"sourceRoot":"src/views/pages"}]}