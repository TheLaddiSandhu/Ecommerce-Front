{"remainingRequest":"C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\src\\views\\pages\\Cart.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\src\\views\\pages\\Cart.vue","mtime":1647407562540},{"path":"C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\babel.config.js","mtime":1647363307621},{"path":"C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647363366624},{"path":"C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\node_modules\\babel-loader\\lib\\index.js","mtime":1647363374298},{"path":"C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647363366624},{"path":"C:\\Users\\Lovepreet\\Desktop\\Project\\vuejs-ecommerce\\node_modules\\vue-loader\\lib\\index.js","mtime":1647363375813}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByb2R1Y3RzOiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBjYXJ0OiBmdW5jdGlvbiBjYXJ0KCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuc2Vzc2lvbi5jYXJ0OwogICAgfSwKICAgIC8vIHByb2R1Y3RzKCkgewogICAgLy8gICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUucHJvZHVjdHM7CiAgICAvLyB9LAogICAgcHVyY2hhc2VzOiBmdW5jdGlvbiBwdXJjaGFzZXMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUucHVyY2hhc2VzLmZpbHRlcihmdW5jdGlvbiAoaXRlbXMpIHsKICAgICAgICByZXR1cm4gaXRlbXMudXNlcklkID09IF90aGlzLiRzdG9yZS5zdGF0ZS5zZXNzaW9uLnVzZXJJZDsKICAgICAgfSk7CiAgICB9LAogICAgdXNlcklkOiBmdW5jdGlvbiB1c2VySWQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5zZXNzaW9uLnVzZXJJZDsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEFsbFByb2R1Y3RzOiBmdW5jdGlvbiBnZXRBbGxQcm9kdWN0cygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo1MDAwL2FwaS9Qcm9kdWN0IikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgX3RoaXMyLnByb2R1Y3RzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRQcm9kdWN0OiBmdW5jdGlvbiBnZXRQcm9kdWN0KGlkKSB7CiAgICAgIHJldHVybiB0aGlzLnByb2R1Y3RzLmZpbHRlcihmdW5jdGlvbiAocHJvZHVjdCkgewogICAgICAgIHJldHVybiBwcm9kdWN0LmlkID09IGlkOwogICAgICB9KVswXTsKICAgIH0sCiAgICBnZXREaXNjb3VudGVkVmFsdWU6IGZ1bmN0aW9uIGdldERpc2NvdW50ZWRWYWx1ZShwcmljZSwgZGlzY291bnQpIHsKICAgICAgcmV0dXJuIHByaWNlIC0gcHJpY2UgLyAxMDAgKiBkaXNjb3VudDsKICAgIH0sCiAgICBnZXRTdWJUb3RhbDogZnVuY3Rpb24gZ2V0U3ViVG90YWwoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIHN1bSA9IDA7CiAgICAgIHRoaXMuY2FydC5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgdmFyIHByb2R1Y3QgPSBfdGhpczMuZ2V0UHJvZHVjdChlbGVtZW50LnByb2R1Y3RJZCk7CgogICAgICAgIHZhciBwcmljZSA9IF90aGlzMy5nZXREaXNjb3VudGVkVmFsdWUocHJvZHVjdC5wcmljZSwgcHJvZHVjdC5kaXNjb3VudCk7CgogICAgICAgIHN1bSArPSBwcmljZSAqIGVsZW1lbnQucXVhbnRpdHk7CiAgICAgIH0pOwogICAgICByZXR1cm4gc3VtOwogICAgfSwKICAgIGNhbGN1bGF0ZVRheDogZnVuY3Rpb24gY2FsY3VsYXRlVGF4KCkgewogICAgICByZXR1cm4gdGhpcy5nZXRTdWJUb3RhbCgpIC8gMTAwICogMTM7CiAgICB9LAogICAgY2FsY3VsYXRlVG90YWw6IGZ1bmN0aW9uIGNhbGN1bGF0ZVRvdGFsKCkgewogICAgICByZXR1cm4gdGhpcy5nZXRTdWJUb3RhbCgpICsgdGhpcy5jYWxjdWxhdGVUYXgoKSArICh0aGlzLmNhcnQubGVuZ3RoID4gMCA/IDEwIDogMCk7CiAgICB9LAogICAgcHJvY2VlZFRvQnV5OiBmdW5jdGlvbiBwcm9jZWVkVG9CdXkoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgLy8gdGhpcy5jYXJ0LmZvckVhY2goKGNhcnQpID0+IHsKICAgICAgLy8gICBjYXJ0Wydwcm9kdWN0J10gPSB0aGlzLmdldFByb2R1Y3QoY2FydC5wcm9kdWN0SWQpCiAgICAgIC8vIH0pOwogICAgICB0aGlzLmF4aW9zLnBvc3QoImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9hcGkvT3JkZXIiLCB7CiAgICAgICAgdXNlcklkOiB0aGlzLiRzdG9yZS5zdGF0ZS5zZXNzaW9uLnVzZXJJZCwKICAgICAgICBzdWJUb3RhbDogdGhpcy5nZXRTdWJUb3RhbCgpLAogICAgICAgIHRheEFtb3VudDogdGhpcy5jYWxjdWxhdGVUYXgoKSwKICAgICAgICBwcm9kdWN0czogdGhpcy5jYXJ0CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwoKICAgICAgICBfdGhpczQuJHN0b3JlLmNvbW1pdCgnY2xlYXJDYXJ0Jyk7CgogICAgICAgIF90aGlzNC4kcm91dGVyLnB1c2goJy9jb25maXJtYXRpb24nKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsgLy90aGlzLiRzdG9yZS5jb21taXQoJ2FkZFB1cmNoYXNlSXRlbScsIHB1cmNoYXNlSXRlbSk7CiAgICB9LAogICAgY2xlYXJDYXJ0OiBmdW5jdGlvbiBjbGVhckNhcnQoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY2xlYXJDYXJ0Jyk7CiAgICB9LAogICAgcmVtb3ZlRnJvbUNhcnQ6IGZ1bmN0aW9uIHJlbW92ZUZyb21DYXJ0KHByb2R1Y3RJZCwgaW5kZXgpIHsKICAgICAgaWYgKHRoaXMuY2FydCkgewogICAgICAgIHRoaXMuY2FydC5zcGxpY2UoaW5kZXgsIDEpOwogICAgICB9IC8vIHRoaXMuJHN0b3JlLmNvbW1pdCgncmVtb3ZlRnJvbUNhcnQnLCBpZCk7CgogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0QWxsUHJvZHVjdHMoKTsKICB9Cn07"},{"version":3,"sources":["Cart.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <v-container>\n      <p class=\"display-3 font-weight-light text-center pa-4\">Checkout Cart</p>\n      <v-row>\n        <v-col :cols=\"12\" md=\"9\" sm=\"12\">\n          <v-simple-table  v-if=\"cart.length > 0 && products.length > 0\">\n            <template v-slot:default>\n              <thead>\n                <tr>\n                  <th class=\"text-center\">ITEM</th>\n                  <th class=\"text-center\">PRICE</th>\n                  <th class=\"text-center\">QUANTITY</th>\n                  <th class=\"text-center\">TOTAL</th>\n                  <th class=\"text-center\"></th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr :key=\"item.productId\" v-for=\"(item, index) in cart\">\n                  <td>\n                    <v-list-item>\n                      <v-list-item-avatar>\n                        <v-img\n                          :src=\"require('../../assets/img/shop/1.jpg')\"\n                        ></v-img>\n                      </v-list-item-avatar>\n\n                      <v-list-item-content>\n                        <v-list-item-title>{{ getProduct(item.productId).name }}</v-list-item-title>\n                      </v-list-item-content>\n                    </v-list-item>\n                  </td>\n                  <td>${{ getDiscountedValue(getProduct(item.productId).price, getProduct(item.productId).discount).toFixed(0) }}</td>\n                  <td>{{ item.quantity }}</td>\n                  <td>${{ (getDiscountedValue(getProduct(item.productId).price, getProduct(item.productId).discount) * item.quantity).toFixed(2) }}</td>\n                  <td><a @click=\"removeFromCart(item.productId, index)\">X</a></td>\n                </tr>\n              </tbody>\n            </template>\n          </v-simple-table>\n          <template v-if=\"cart.length == 0\">\n            <p class=\"display-1 font-weight-light pa-1\" style=\"background: transparent\">Your cart is empty!</p>\n          </template>\n        </v-col>\n        <v-col :cols=\"12\" md=\"3\" sm=\"12\" style=\"background-color: lightgray\">\n          <p class=\"headline\">Order Summary</p>\n          <p class=\"overline\">\n            Shipping and additional costs are calculated based on values you\n            have entered.\n          </p>\n          <v-simple-table v-if=\"cart\">\n            <template v-slot:default>\n              <tbody>\n                <tr>\n                  <td>Order Subtotal</td>\n                  <td class=\"text-right\" style=\"width: 50px\">${{getSubTotal().toFixed(2)}}</td>\n                </tr>\n                <tr>\n                  <td>Shipping Charges</td>\n                  <td class=\"text-right\" style=\"width: 50px\">${{cart.length > 0? 10.00: 0.00}}</td>\n                </tr>\n                <tr>\n                  <td>Tax</td>\n                  <td class=\"text-right\" style=\"width: 50px\">${{calculateTax().toFixed(2)}}</td>\n                </tr>\n                <tr>\n                  <td>Total</td>\n                  <td class=\"text-right\" style=\"width: 50px\"><b>${{calculateTotal().toFixed(2)}}</b></td>\n                </tr>\n              </tbody>\n            </template>\n          </v-simple-table>\n          <div class=\"text-center\">\n            <v-btn class=\"white--text mt-5\" outlined\n              @click=\"proceedToBuy()\"\n              >Proceed to Buy</v-btn\n            >\n          </div>\n        </v-col>\n      </v-row>\n    </v-container>\n  </div>\n</template>\n\n<script>\nexport default {\n  data: () => ({\n    products: []\n  }),\n  computed: {\n    cart() {\n      return this.$store.state.session.cart;\n    },\n    // products() {\n    //   return this.$store.state.products;\n    // },\n    purchases() {\n      return this.$store.state.purchases.filter((items) => items.userId == this.$store.state.session.userId);\n    },\n    userId() {\n      return this.$store.state.session.userId;\n    }\n  },\n  methods: {\n    getAllProducts() {\n      this.axios\n        .get(\"http://localhost:5000/api/Product\")\n        .then((response) => {\n          console.log(response);\n          this.products = response.data;\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    getProduct(id) {\n      return this.products.filter((product) => product.id == id)[0];\n    },\n    getDiscountedValue(price, discount){\n      return price - ( price/100 * discount);\n    },\n    getSubTotal(){\n      var sum = 0;\n      this.cart.forEach(element => {\n        var product = this.getProduct(element.productId);\n        var price = this.getDiscountedValue(product.price, product.discount);\n        sum += price * element.quantity;\n      });\n      return sum\n    },\n    calculateTax(){\n      return this.getSubTotal()/100 * 13;\n    },\n    calculateTotal(){\n      return this.getSubTotal() + this.calculateTax() + (this.cart.length > 0? 10: 0);\n    },\n    proceedToBuy(){\n      // this.cart.forEach((cart) => {\n      //   cart['product'] = this.getProduct(cart.productId)\n      // });\n\n       this.axios\n        .post(\"http://localhost:5000/api/Order\", {\n          userId: this.$store.state.session.userId,\n          subTotal: this.getSubTotal(),\n          taxAmount: this.calculateTax(),\n          products: this.cart\n        })\n        .then((response) => {\n          console.log(response);\n          this.$store.commit('clearCart');\n          this.$router.push('/confirmation');\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n      //this.$store.commit('addPurchaseItem', purchaseItem);\n\n    },\n    clearCart(){\n      this.$store.commit('clearCart');\n    },\n    removeFromCart(productId, index) {\n      if(this.cart){\n        this.cart.splice(index, 1);\n      }\n      // this.$store.commit('removeFromCart', id);\n    }\n  },\n  created() {\n    this.getAllProducts()\n  }\n}\n</script>\n"],"sourceRoot":"src/views/pages"}]}